# A6 — API/Gateway/Policies: Proof‑Only enforcement, OpenAPI

Zakres:

- FastAPI/Gateway, OPA/Rego roles, wymuszanie Proof‑Only w ścieżkach, kontrakt OpenAPI.

DoD:

- OPA roles/polityki działają: `policies/security/roles.rego` + testy gate’ów (OK — utrzymać/rozszerzyć).
- Proof‑Only enforcement aktywny w ≥90% ścieżek — metryka i testy dowodzą pokrycia.
- OpenAPI kontrakt: smoke/lint/contract test zielone; przykłady z PCO.

Checklist:

- [ ] Dodać test, który enumeruje ścieżki i weryfikuje, że wymagają PCO (lub są jawnie wyłączone i udokumentowane).
- [ ] Upewnić się, że runtime enforcement nie łamie legacy‑testów (flagą).

